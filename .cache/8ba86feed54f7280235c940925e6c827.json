{"dependencies":[{"name":"./caml_int32.js","loc":{"line":3,"column":38}},{"name":"./caml_queue.js","loc":{"line":4,"column":38}},{"name":"./caml_builtin_exceptions.js","loc":{"line":5,"column":38}}],"generated":{"js":"'use strict';\n\nvar Caml_int32              = require(\"./caml_int32.js\");\nvar Caml_queue              = require(\"./caml_queue.js\");\nvar Caml_builtin_exceptions = require(\"./caml_builtin_exceptions.js\");\n\nfunction rotl32(x, n) {\n  return (x << n) | (x >>> (32 - n | 0));\n}\n\nfunction mix(h, d) {\n  var d$1 = d;\n  d$1 = Caml_int32.imul(d$1, 3432918353);\n  d$1 = rotl32(d$1, 15);\n  d$1 = Caml_int32.imul(d$1, 461845907);\n  var h$1 = h ^ d$1;\n  h$1 = rotl32(h$1, 13);\n  return (h$1 + (h$1 << 2) | 0) + 3864292196 | 0;\n}\n\nfunction final_mix(h) {\n  var h$1 = h ^ (h >>> 16);\n  h$1 = Caml_int32.imul(h$1, 2246822507);\n  h$1 = h$1 ^ (h$1 >>> 13);\n  h$1 = Caml_int32.imul(h$1, 3266489909);\n  return h$1 ^ (h$1 >>> 16);\n}\n\nfunction caml_hash_mix_string(h, s) {\n  var len = s.length;\n  var block = (len / 4 | 0) - 1 | 0;\n  var hash = h;\n  for(var i = 0; i <= block; ++i){\n    var j = (i << 2);\n    var w = s.charCodeAt(j) | (s.charCodeAt(j + 1 | 0) << 8) | (s.charCodeAt(j + 2 | 0) << 16) | (s.charCodeAt(j + 3 | 0) << 24);\n    hash = mix(hash, w);\n  }\n  var modulo = len & 3;\n  if (modulo !== 0) {\n    var w$1 = modulo === 3 ? (s.charCodeAt(len - 1 | 0) << 16) | (s.charCodeAt(len - 2 | 0) << 8) | s.charCodeAt(len - 3 | 0) : (\n        modulo === 2 ? (s.charCodeAt(len - 1 | 0) << 8) | s.charCodeAt(len - 2 | 0) : s.charCodeAt(len - 1 | 0)\n      );\n    hash = mix(hash, w$1);\n  }\n  hash = hash ^ len;\n  return hash;\n}\n\nfunction caml_hash(count, _, seed, obj) {\n  var hash = seed;\n  if (typeof obj === \"number\") {\n    var u = obj | 0;\n    hash = mix(hash, (u + u | 0) + 1 | 0);\n    return final_mix(hash);\n  } else if (typeof obj === \"string\") {\n    hash = caml_hash_mix_string(hash, obj);\n    return final_mix(hash);\n  } else {\n    var queue = /* record */[\n      /* length */0,\n      /* tail : None */0\n    ];\n    var num = count;\n    Caml_queue.push(obj, queue);\n    num = num - 1 | 0;\n    while(queue[/* length */0] !== 0 && num > 0) {\n      var obj$1 = Caml_queue.unsafe_pop(queue);\n      if (typeof obj$1 === \"number\") {\n        var u$1 = obj$1 | 0;\n        hash = mix(hash, (u$1 + u$1 | 0) + 1 | 0);\n        num = num - 1 | 0;\n      } else if (typeof obj$1 === \"string\") {\n        hash = caml_hash_mix_string(hash, obj$1);\n        num = num - 1 | 0;\n      } else if (typeof obj$1 !== \"boolean\") {\n        if (typeof obj$1 !== \"undefined\") {\n          if (typeof obj$1 === \"symbol\") {\n            throw [\n                  Caml_builtin_exceptions.assert_failure,\n                  [\n                    \"caml_hash.ml\",\n                    135,\n                    8\n                  ]\n                ];\n          } else if (typeof obj$1 !== \"function\") {\n            var size = obj$1.length;\n            if (size !== undefined) {\n              var obj_tag = obj$1.tag | 0;\n              var tag = (size << 10) | obj_tag;\n              if (tag === 248) {\n                hash = mix(hash, obj$1[1]);\n              } else {\n                hash = mix(hash, tag);\n                var v = size - 1 | 0;\n                var block = v < num ? v : num;\n                for(var i = 0; i <= block; ++i){\n                  Caml_queue.push(obj$1[i], queue);\n                }\n              }\n            }\n            \n          }\n          \n        }\n        \n      }\n      \n    };\n    return final_mix(hash);\n  }\n}\n\nexports.caml_hash = caml_hash;\n/* No side effect */\n"},"hash":"25cde4c1427969c257f3eeabfe3b0a2b"}