{"dependencies":[{"name":"bs-platform/lib/js/list.js","loc":{"line":3,"column":46}},{"name":"bs-platform/lib/js/curry.js","loc":{"line":4,"column":46}},{"name":"react","loc":{"line":5,"column":46}},{"name":"bs-platform/lib/js/caml_builtin_exceptions.js","loc":{"line":6,"column":46}},{"name":"./ReasonReactOptimizedCreateClass.js","loc":{"line":7,"column":46}}],"generated":{"js":"'use strict';\n\nvar List                            = require(\"bs-platform/lib/js/list.js\");\nvar Curry                           = require(\"bs-platform/lib/js/curry.js\");\nvar React                           = require(\"react\");\nvar Caml_builtin_exceptions         = require(\"bs-platform/lib/js/caml_builtin_exceptions.js\");\nvar ReasonReactOptimizedCreateClass = require(\"./ReasonReactOptimizedCreateClass.js\");\n\nfunction createDomElement(s, props, children) {\n  var vararg = /* array */[\n      s,\n      props\n    ].concat(children);\n  return React.createElement.apply(null, vararg);\n}\n\nvar magicNull = null;\n\nfunction $$default() {\n  return /* () */0;\n}\n\nfunction chain(handlerOne, handlerTwo, payload) {\n  Curry._1(handlerOne, payload);\n  return Curry._1(handlerTwo, payload);\n}\n\nvar Callback = /* module */[\n  /* default */$$default,\n  /* chain */chain\n];\n\nfunction lifecycleNoUpdate() {\n  return /* NoUpdate */0;\n}\n\nfunction lifecyclePreviousNextUnit() {\n  return /* () */0;\n}\n\nfunction lifecyclePreviousCurrentReturnUnit() {\n  return /* () */0;\n}\n\nfunction lifecycleReturnUnit() {\n  return /* () */0;\n}\n\nfunction lifecycleReturnTrue() {\n  return /* true */1;\n}\n\nfunction willReceivePropsDefault(param) {\n  return param[/* state */2];\n}\n\nfunction renderDefault() {\n  return \"RenderNotImplemented\";\n}\n\nfunction initialStateDefault() {\n  return /* () */0;\n}\n\nfunction reducerDefault(_, _$1) {\n  return /* NoUpdate */0;\n}\n\nfunction convertPropsIfTheyreFromJs(props, jsPropsToReason, debugName) {\n  var match = props.reasonProps;\n  if (match == null) {\n    if (jsPropsToReason) {\n      return /* Element */[Curry._1(jsPropsToReason[0], props)];\n    } else {\n      throw [\n            Caml_builtin_exceptions.invalid_argument,\n            \"A JS component called the Reason component \" + (debugName + \" which didn't implement the JS->Reason React props conversion.\")\n          ];\n    }\n  } else {\n    return match;\n  }\n}\n\nfunction createClass(debugName) {\n  return ReasonReactOptimizedCreateClass.createClass({\n              displayName: debugName,\n              self: (function (state, retainedProps) {\n                  var $$this = this ;\n                  return /* record */[\n                          /* handle */$$this.handleMethod,\n                          /* reduce */$$this.reduceMethod,\n                          /* state */state,\n                          /* retainedProps */retainedProps\n                        ];\n                }),\n              transitionNextTotalState: (function (curTotalState, reasonStateUpdate) {\n                  if (typeof reasonStateUpdate === \"number\") {\n                    return curTotalState;\n                  } else {\n                    switch (reasonStateUpdate.tag | 0) {\n                      case 0 : \n                          return {\n                                  reasonState: reasonStateUpdate[0],\n                                  reasonStateVersion: curTotalState.reasonStateVersion + 1 | 0,\n                                  reasonStateVersionUsedToComputeSubelements: curTotalState.reasonStateVersionUsedToComputeSubelements,\n                                  sideEffects: curTotalState.sideEffects\n                                };\n                      case 1 : \n                          return {\n                                  reasonState: reasonStateUpdate[0],\n                                  reasonStateVersion: curTotalState.reasonStateVersion + 1 | 0,\n                                  reasonStateVersionUsedToComputeSubelements: curTotalState.reasonStateVersionUsedToComputeSubelements + 1 | 0,\n                                  sideEffects: curTotalState.sideEffects\n                                };\n                      case 2 : \n                          return {\n                                  reasonState: curTotalState.reasonState,\n                                  reasonStateVersion: curTotalState.reasonStateVersion + 1 | 0,\n                                  reasonStateVersionUsedToComputeSubelements: curTotalState.reasonStateVersionUsedToComputeSubelements + 1 | 0,\n                                  sideEffects: /* :: */[\n                                    reasonStateUpdate[0],\n                                    curTotalState.sideEffects\n                                  ]\n                                };\n                      case 3 : \n                          return {\n                                  reasonState: reasonStateUpdate[0],\n                                  reasonStateVersion: curTotalState.reasonStateVersion + 1 | 0,\n                                  reasonStateVersionUsedToComputeSubelements: curTotalState.reasonStateVersionUsedToComputeSubelements,\n                                  sideEffects: /* :: */[\n                                    reasonStateUpdate[1],\n                                    curTotalState.sideEffects\n                                  ]\n                                };\n                      case 4 : \n                          return {\n                                  reasonState: reasonStateUpdate[0],\n                                  reasonStateVersion: curTotalState.reasonStateVersion + 1 | 0,\n                                  reasonStateVersionUsedToComputeSubelements: curTotalState.reasonStateVersionUsedToComputeSubelements + 1 | 0,\n                                  sideEffects: /* :: */[\n                                    reasonStateUpdate[1],\n                                    curTotalState.sideEffects\n                                  ]\n                                };\n                      \n                    }\n                  }\n                }),\n              getInitialState: (function () {\n                  var thisJs = (this);\n                  var convertedReasonProps = convertPropsIfTheyreFromJs(thisJs.props, thisJs.jsPropsToReason, debugName);\n                  var initialReasonState = Curry._1(convertedReasonProps[0][/* initialState */10], /* () */0);\n                  return {\n                          reasonState: initialReasonState,\n                          reasonStateVersion: 1,\n                          reasonStateVersionUsedToComputeSubelements: 1,\n                          sideEffects: /* [] */0\n                        };\n                }),\n              componentDidMount: (function () {\n                  var $$this = this ;\n                  var thisJs = (this);\n                  var convertedReasonProps = convertPropsIfTheyreFromJs(thisJs.props, thisJs.jsPropsToReason, debugName);\n                  var component = convertedReasonProps[0];\n                  if (component[/* didMount */4] !== lifecycleNoUpdate) {\n                    var curTotalState = thisJs.state;\n                    var curReasonState = curTotalState.reasonState;\n                    var self = $$this.self(curReasonState, component[/* retainedProps */11]);\n                    var reasonStateUpdate = Curry._1(component[/* didMount */4], self);\n                    var nextTotalState = $$this.transitionNextTotalState(curTotalState, reasonStateUpdate);\n                    if (nextTotalState.reasonStateVersion !== curTotalState.reasonStateVersion) {\n                      return thisJs.setState(nextTotalState);\n                    } else {\n                      return 0;\n                    }\n                  } else {\n                    return 0;\n                  }\n                }),\n              componentDidUpdate: (function (prevProps, prevState) {\n                  var $$this = this ;\n                  var thisJs = (this);\n                  var curState = thisJs.state;\n                  var curReasonState = curState.reasonState;\n                  var newJsProps = thisJs.props;\n                  var newConvertedReasonProps = convertPropsIfTheyreFromJs(newJsProps, thisJs.jsPropsToReason, debugName);\n                  var newComponent = newConvertedReasonProps[0];\n                  if (newComponent[/* didUpdate */5] !== lifecyclePreviousCurrentReturnUnit) {\n                    var match = +(prevProps === newJsProps);\n                    var oldConvertedReasonProps = match !== 0 ? newConvertedReasonProps : convertPropsIfTheyreFromJs(prevProps, thisJs.jsPropsToReason, debugName);\n                    var prevReasonState = prevState.reasonState;\n                    var newSelf = $$this.self(curReasonState, newComponent[/* retainedProps */11]);\n                    var oldSelf_000 = /* handle */newSelf[/* handle */0];\n                    var oldSelf_001 = /* reduce */newSelf[/* reduce */1];\n                    var oldSelf_003 = /* retainedProps */oldConvertedReasonProps[0][/* retainedProps */11];\n                    var oldSelf = /* record */[\n                      oldSelf_000,\n                      oldSelf_001,\n                      /* state */prevReasonState,\n                      oldSelf_003\n                    ];\n                    return Curry._1(newComponent[/* didUpdate */5], /* record */[\n                                /* oldSelf */oldSelf,\n                                /* newSelf */newSelf\n                              ]);\n                  } else {\n                    return 0;\n                  }\n                }),\n              componentWillUnmount: (function () {\n                  var $$this = this ;\n                  var thisJs = (this);\n                  var convertedReasonProps = convertPropsIfTheyreFromJs(thisJs.props, thisJs.jsPropsToReason, debugName);\n                  var component = convertedReasonProps[0];\n                  if (component[/* willUnmount */6] !== lifecycleReturnUnit) {\n                    var curState = thisJs.state;\n                    var curReasonState = curState.reasonState;\n                    return Curry._1(component[/* willUnmount */6], $$this.self(curReasonState, component[/* retainedProps */11]));\n                  } else {\n                    return 0;\n                  }\n                }),\n              componentWillUpdate: (function (nextProps, nextState) {\n                  var $$this = this ;\n                  var thisJs = (this);\n                  var newConvertedReasonProps = convertPropsIfTheyreFromJs(nextProps, thisJs.jsPropsToReason, debugName);\n                  var newComponent = newConvertedReasonProps[0];\n                  if (newComponent[/* willUpdate */7] !== lifecyclePreviousNextUnit) {\n                    var oldJsProps = thisJs.props;\n                    var match = +(nextProps === oldJsProps);\n                    var oldConvertedReasonProps = match !== 0 ? newConvertedReasonProps : convertPropsIfTheyreFromJs(oldJsProps, thisJs.jsPropsToReason, debugName);\n                    var curState = thisJs.state;\n                    var curReasonState = curState.reasonState;\n                    var nextReasonState = nextState.reasonState;\n                    var newSelf = $$this.self(nextReasonState, newComponent[/* retainedProps */11]);\n                    var oldSelf_000 = /* handle */newSelf[/* handle */0];\n                    var oldSelf_001 = /* reduce */newSelf[/* reduce */1];\n                    var oldSelf_003 = /* retainedProps */oldConvertedReasonProps[0][/* retainedProps */11];\n                    var oldSelf = /* record */[\n                      oldSelf_000,\n                      oldSelf_001,\n                      /* state */curReasonState,\n                      oldSelf_003\n                    ];\n                    return Curry._1(newComponent[/* willUpdate */7], /* record */[\n                                /* oldSelf */oldSelf,\n                                /* newSelf */newSelf\n                              ]);\n                  } else {\n                    return 0;\n                  }\n                }),\n              componentWillReceiveProps: (function (nextProps) {\n                  var $$this = this ;\n                  var thisJs = (this);\n                  var newConvertedReasonProps = convertPropsIfTheyreFromJs(nextProps, thisJs.jsPropsToReason, debugName);\n                  var newComponent = newConvertedReasonProps[0];\n                  if (newComponent[/* willReceiveProps */3] !== willReceivePropsDefault) {\n                    var oldJsProps = thisJs.props;\n                    var match = +(nextProps === oldJsProps);\n                    var oldConvertedReasonProps = match !== 0 ? newConvertedReasonProps : convertPropsIfTheyreFromJs(oldJsProps, thisJs.jsPropsToReason, debugName);\n                    var oldComponent = oldConvertedReasonProps[0];\n                    return thisJs.setState((function (curTotalState, _) {\n                                  var curReasonState = curTotalState.reasonState;\n                                  var curReasonStateVersion = curTotalState.reasonStateVersion;\n                                  var oldSelf = $$this.self(curReasonState, oldComponent[/* retainedProps */11]);\n                                  var nextReasonState = Curry._1(newComponent[/* willReceiveProps */3], oldSelf);\n                                  var match = +(nextReasonState !== curReasonState);\n                                  var nextReasonStateVersion = match !== 0 ? curReasonStateVersion + 1 | 0 : curReasonStateVersion;\n                                  if (nextReasonStateVersion !== curReasonStateVersion) {\n                                    return {\n                                            reasonState: nextReasonState,\n                                            reasonStateVersion: nextReasonStateVersion,\n                                            reasonStateVersionUsedToComputeSubelements: curTotalState.reasonStateVersionUsedToComputeSubelements,\n                                            sideEffects: nextReasonState.sideEffects\n                                          };\n                                  } else {\n                                    return curTotalState;\n                                  }\n                                }));\n                  } else {\n                    return 0;\n                  }\n                }),\n              shouldComponentUpdate: (function (nextJsProps, nextState, _) {\n                  var $$this = this ;\n                  var thisJs = (this);\n                  var curJsProps = thisJs.props;\n                  var propsWarrantRerender = +(nextJsProps !== curJsProps);\n                  var oldConvertedReasonProps = convertPropsIfTheyreFromJs(thisJs.props, thisJs.jsPropsToReason, debugName);\n                  var match = +(nextJsProps === curJsProps);\n                  var newConvertedReasonProps = match !== 0 ? oldConvertedReasonProps : convertPropsIfTheyreFromJs(nextJsProps, thisJs.jsPropsToReason, debugName);\n                  var newComponent = newConvertedReasonProps[0];\n                  var nextReasonStateVersion = nextState.reasonStateVersion;\n                  var nextReasonStateVersionUsedToComputeSubelements = nextState.reasonStateVersionUsedToComputeSubelements;\n                  var stateChangeWarrantsComputingSubelements = +(nextReasonStateVersionUsedToComputeSubelements !== nextReasonStateVersion);\n                  var warrantsUpdate = propsWarrantRerender || stateChangeWarrantsComputingSubelements;\n                  var nextReasonState = nextState.reasonState;\n                  var newSelf = $$this.self(nextReasonState, newComponent[/* retainedProps */11]);\n                  var ret;\n                  if (warrantsUpdate && newComponent[/* shouldUpdate */8] !== lifecycleReturnTrue) {\n                    var curState = thisJs.state;\n                    var curReasonState = curState.reasonState;\n                    var oldSelf_000 = /* handle */newSelf[/* handle */0];\n                    var oldSelf_001 = /* reduce */newSelf[/* reduce */1];\n                    var oldSelf_003 = /* retainedProps */oldConvertedReasonProps[0][/* retainedProps */11];\n                    var oldSelf = /* record */[\n                      oldSelf_000,\n                      oldSelf_001,\n                      /* state */curReasonState,\n                      oldSelf_003\n                    ];\n                    ret = Curry._1(newComponent[/* shouldUpdate */8], /* record */[\n                          /* oldSelf */oldSelf,\n                          /* newSelf */newSelf\n                        ]);\n                  } else {\n                    ret = warrantsUpdate;\n                  }\n                  nextState.reasonStateVersionUsedToComputeSubelements = nextReasonStateVersion;\n                  var nextSideEffects = List.rev(nextState.sideEffects);\n                  if (nextSideEffects !== /* [] */0) {\n                    List.iter((function (performSideEffects) {\n                            return Curry._1(performSideEffects, newSelf);\n                          }), nextSideEffects);\n                    thisJs.setState((function (futureTotalState, _) {\n                            var initialSegment = function (_acc, _n, _l) {\n                              while(true) {\n                                var l = _l;\n                                var n = _n;\n                                var acc = _acc;\n                                if (l) {\n                                  if (n > 0) {\n                                    _l = l[1];\n                                    _n = n - 1 | 0;\n                                    _acc = /* :: */[\n                                      l[0],\n                                      acc\n                                    ];\n                                    continue ;\n                                    \n                                  } else {\n                                    return List.rev(acc);\n                                  }\n                                } else {\n                                  return List.rev(acc);\n                                }\n                              };\n                            };\n                            var n = List.length(futureTotalState.sideEffects) - List.length(nextState.sideEffects) | 0;\n                            var newSideEffects = initialSegment(/* [] */0, n, futureTotalState.sideEffects);\n                            return {\n                                    reasonState: futureTotalState.reasonState,\n                                    reasonStateVersion: futureTotalState.reasonStateVersion,\n                                    reasonStateVersionUsedToComputeSubelements: futureTotalState.reasonStateVersionUsedToComputeSubelements,\n                                    sideEffects: newSideEffects\n                                  };\n                          }));\n                  }\n                  return ret;\n                }),\n              handleMethod: (function (callback) {\n                  var $$this = this ;\n                  var thisJs = (this);\n                  return (function (callbackPayload) {\n                      var curState = thisJs.state;\n                      var curReasonState = curState.reasonState;\n                      var convertedReasonProps = convertPropsIfTheyreFromJs(thisJs.props, thisJs.jsPropsToReason, debugName);\n                      return Curry._2(callback, callbackPayload, $$this.self(curReasonState, convertedReasonProps[0][/* retainedProps */11]));\n                    });\n                }),\n              updateMethod: (function (callback) {\n                  var $$this = this ;\n                  var thisJs = (this);\n                  return (function ($$event) {\n                      var curTotalState = thisJs.state;\n                      var curReasonState = curTotalState.reasonState;\n                      var convertedReasonProps = convertPropsIfTheyreFromJs(thisJs.props, thisJs.jsPropsToReason, debugName);\n                      var reasonStateUpdate = Curry._2(callback, $$event, $$this.self(curReasonState, convertedReasonProps[0][/* retainedProps */11]));\n                      if (reasonStateUpdate) {\n                        var nextTotalState = $$this.transitionNextTotalState(curTotalState, reasonStateUpdate);\n                        if (nextTotalState.reasonStateVersion !== curTotalState.reasonStateVersion) {\n                          return thisJs.setState(nextTotalState);\n                        } else {\n                          return 0;\n                        }\n                      } else {\n                        return magicNull;\n                      }\n                    });\n                }),\n              reduceMethod: (function (callback) {\n                  var $$this = this ;\n                  var thisJs = (this);\n                  return (function ($$event) {\n                      var convertedReasonProps = convertPropsIfTheyreFromJs(thisJs.props, thisJs.jsPropsToReason, debugName);\n                      var component = convertedReasonProps[0];\n                      if (component[/* reducer */12] !== reducerDefault) {\n                        var action = Curry._1(callback, $$event);\n                        return thisJs.setState((function (curTotalState, _) {\n                                      var curReasonState = curTotalState.reasonState;\n                                      var reasonStateUpdate = Curry._2(component[/* reducer */12], action, curReasonState);\n                                      if (reasonStateUpdate) {\n                                        var nextTotalState = $$this.transitionNextTotalState(curTotalState, reasonStateUpdate);\n                                        if (nextTotalState.reasonStateVersion !== curTotalState.reasonStateVersion) {\n                                          return nextTotalState;\n                                        } else {\n                                          return magicNull;\n                                        }\n                                      } else {\n                                        return magicNull;\n                                      }\n                                    }));\n                      } else {\n                        return 0;\n                      }\n                    });\n                }),\n              render: (function () {\n                  var $$this = this ;\n                  var thisJs = (this);\n                  var convertedReasonProps = convertPropsIfTheyreFromJs(thisJs.props, thisJs.jsPropsToReason, debugName);\n                  var created = convertedReasonProps[0];\n                  var curState = thisJs.state;\n                  var curReasonState = curState.reasonState;\n                  return Curry._1(created[/* render */9], $$this.self(curReasonState, created[/* retainedProps */11]));\n                })\n            });\n}\n\nfunction basicComponent(debugName) {\n  return /* record */[\n          /* debugName */debugName,\n          /* reactClassInternal */createClass(debugName),\n          /* handedOffState : record */[/* contents : None */0],\n          /* willReceiveProps */willReceivePropsDefault,\n          /* didMount */lifecycleNoUpdate,\n          /* didUpdate */lifecyclePreviousCurrentReturnUnit,\n          /* willUnmount */lifecycleReturnUnit,\n          /* willUpdate */lifecyclePreviousNextUnit,\n          /* shouldUpdate */lifecycleReturnTrue,\n          /* render */renderDefault,\n          /* initialState */initialStateDefault,\n          /* retainedProps : () */0,\n          /* reducer */reducerDefault,\n          /* jsElementWrapped : None */0\n        ];\n}\n\nvar statelessComponent = basicComponent;\n\nvar statelessComponentWithRetainedProps = basicComponent;\n\nvar reducerComponent = basicComponent;\n\nvar reducerComponentWithRetainedProps = basicComponent;\n\nfunction element($staropt$star, $staropt$star$1, component) {\n  var key = $staropt$star ? $staropt$star[0] : undefined;\n  var ref = $staropt$star$1 ? $staropt$star$1[0] : undefined;\n  var element$1 = /* Element */[component];\n  var match = component[/* jsElementWrapped */13];\n  if (match) {\n    return Curry._2(match[0], key, ref);\n  } else {\n    return React.createElement(component[/* reactClassInternal */1], {\n                key: key,\n                ref: ref,\n                reasonProps: element$1\n              });\n  }\n}\n\nfunction wrapReasonForJs(component, jsPropsToReason) {\n  var tmp = component[/* reactClassInternal */1].prototype;\n  tmp.jsPropsToReason = /* Some */[jsPropsToReason];\n  return component[/* reactClassInternal */1];\n}\n\nvar dummyInteropComponent = basicComponent(\"interop\");\n\nfunction wrapJsForReason(reactClass, props, children) {\n  var jsElementWrapped = /* Some */[(function (param, param$1) {\n        var reactClass$1 = reactClass;\n        var props$1 = props;\n        var children$1 = children;\n        var key = param;\n        var ref = param$1;\n        var props$2 = Object.assign(Object.assign({ }, props$1), {\n              ref: ref,\n              key: key\n            });\n        var varargs = /* array */[\n            reactClass$1,\n            props$2\n          ].concat(children$1);\n        return React.createElement.apply(null, varargs);\n      })];\n  var newrecord = dummyInteropComponent.slice();\n  newrecord[/* jsElementWrapped */13] = jsElementWrapped;\n  return newrecord;\n}\n\nexports.Callback                            = Callback;\nexports.statelessComponent                  = statelessComponent;\nexports.statelessComponentWithRetainedProps = statelessComponentWithRetainedProps;\nexports.reducerComponent                    = reducerComponent;\nexports.reducerComponentWithRetainedProps   = reducerComponentWithRetainedProps;\nexports.element                             = element;\nexports.wrapReasonForJs                     = wrapReasonForJs;\nexports.createDomElement                    = createDomElement;\nexports.wrapJsForReason                     = wrapJsForReason;\n/* magicNull Not a pure module */\n"},"hash":"c0cef8adda9d0d0f94f35d2ad3a5b85d"}